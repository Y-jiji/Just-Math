---
TimeLine: 
=> 20220430--0000000 : 章节已创建
---
| #未完成-正文 | #未完成-习题 |
| ------------ | ------------ |

# 实数域的定义和实数集的构造

> 严格来说这一节并不是单纯的代数章节, 在这个章节中, 将接触到分析当中非常重要的完备化构造思想. 
> 完备化构造的基本思路是: 当某个点总是被趋近但取不到, 不妨就将具有相同趋近行为的等价类作为新的基底并继承原来的运算. 
> 使用完备化构造, 我们将给出实数域的定义和一种从任何一个有理数域中构造对应实数域的方法. 
> 作为额外补充的内容, 我们还将给出使用有理数近似实数的误差上界

## 实数域的定义

实数域是有序且完备的最小数域. 完备是指任何有界集合都有上,下确界. 

$$
\text{real}(R) := \Prop{(\and)}{\;\;}{
    & \text{ordered-field}(R)\\
    \\
    & (+,\cdot,0,1) := (R[+],R[\cdot],R[0],R[1])\\
    & (\le,\ge,<,>) := (R[\le],R[\ge],R[<],R[>])\\
    \\
    & \PropEndl{
        & \forall X \in \Pow(R[\S]):\\
    }{\;\;}{
        & \CondBegin\\
        & \exist r\in R[\S]: \forall x\in X: r \ge x\\
        & \CondEnd\\
        & U := \bigg\{r\in R[\S]: \forall x\in X: r\ge x\bigg\}\\
        & \exist r\in U: \forall r'\in U: r \le r'\\
        \\
    }\\\\
    & \PropEndl{
        & \forall X \in \Pow(R[\S]):\\
    }{\;\;}{
        & \CondBegin\\
        & \exist r\in R[\S]: \forall x\in X: r \le x\\
        & \CondEnd\\
        & L := \bigg\{r\in R[\S]: \forall x\in X: r\le x\bigg\}\\
        & \exist r\in L: \forall r'\in L: r \ge r'\\
        \\
    }\\\\
}
$$

为了方便起见, 再定义取整数算符. 

$$
\begin{matrix}
R\left[\matrix{\lfloor\cdot\rfloor\\ \lceil\cdot\rceil}\right] := \\
:::
\end{matrix}
$$

同样, 定义 $\sup$ 和 $\inf$ 算符. 



## Archimedes性

对任意两个正的实数 $x < y$, 总是存在一个正的正数 $n$ 使得 $nx > y$

$$
\PropEndl{
    & \forall {\rm real}(R):\\
    & \forall {\rm interger}(Z):\\
    & \forall x, y\in R[\S]:\\
}{\;\;}{
    & \CondBegin\\
    & R[0] < x < y\\
    & Z \OrdRingSub R\\
    & \CondEnd\\
    & \exist n\in Z[\S]:\bigg(n> R[0]\bigg)\and \bigg(n\overset{@R}\cdot x > y\bigg)
}
$$

文字证明: 

由完备性可知, 若不存在这样的整数, 则 $y$ 是集合 $\{n\cdot x:n\in \Z\}$ 的上界, 此时必存在最小上界为 $\alpha$ , 因为任意 $n$ 都有 $n\cdot x < \alpha$ , 则对任意 $n$ 也有 $(n+1) \cdot x <\alpha$ , 由 $n\cdot x < \alpha -x$ 知 $\alpha$ 的最小性并不成立, 从而导出矛盾. 

既知 $y$ 不可能是 $\{n\cdot x:n\in \Z\}$ 的上界, 则总有 $n$ 使得 $n \cdot x > y$

形式证明: 
#TODO
$$
\PropEndl{
    & \forall {\rm real}(R):\\
    & \forall {\rm interger}(Z):\\
    & \forall x, y\in R[\S]:\\
}{\;\;}{
    & \CondBegin\\
    & R[0] < x < y\\
    & Z \OrdRingSub R\\
    & \CondEnd\\
    & \exist n\in Z[\S]:\bigg(n> R[0]\bigg)\and \bigg(n\overset{@R}\cdot x > y\bigg)
}
$$

## 有理数中值定理

$$
\PropEndl{
    & \forall \text{real}(R):\\
    & \forall \text{rational}(Q):\\
}{\;\;}{
    & \CondBegin\\
    & Q \OrdFieldSub R\\
    & \CondEnd\\
    & \forall x, y\in R[\S]: x\overset{@R}<y \Rarrow \exist q \in Q[\S]: 
        x\overset{@R}<q\overset{@R}<y\\
    \\
}
$$

文字证明: 

总是有正整数 $n$ 能使得 $n \cdot (y - x)$ 比 $1$ 大, 而此时 $n \cdot x$ 和 $n\cdot y$ 之间至少有一个整数. 取定这个整数记为 $m$, 则 $m/n$ 就是所求的有理数.  

形式证明: #TODO
$$

$$

## 同构意义下的唯一性

任意两个实数域相互之间都是同构的. 

$$
\forall {\rm real}(R_1)\and {\rm real}(R_2):
\exist f: \Prop{(\and)}{\;\;}{
    & f\text{<inj>}\\
    & f: R_1\OrdFieldTo R_2\\
}
$$

文字证明: 

根本的想法是通过各自下辖的有理数域 $Q$ 和 $Q'$ 作为锚定点 (因为有理数域之间总是同构的), 先取定有理数域之间的同构 $f : Q \to Q'$, 再借由完备化(取上确界)的方法构造出一个保序的同构映射 $g$ . 

首先通过取 $x < q < y$ (其中 $q$ 是有理数), 可知 $g(x) \le f(q) < g(y)$ , 这是因为: 

- $f(q)$ 也是 $\{f(a):a < x \and a \in Q\}$ 的上界, 因此 $f(q)$ 肯定大于等于最小上界 $g(x)$, 

- 于此同时 $f(q)$ 落在 $\{f(a): a < y\}$ 内, 故 $g(y)$ 肯定比 $f(q)$ 严格大. 
  否则由 $g(y)=f(q)$ 得任意小于 $y$ 的有理数 $a$ 有 $f(a) \le f(q)$, 立即有谬论存在 $p$ 使得 $p > q \and f(p) < f(q)$ (因为 $q$ 也是小于 $y$ 的实数, 因此能找到 $q < p < y$)

而后我们来证明 $g$ 也是加法同构: 

- 先观察到 $g(x + y) \ge g(x) + g(y)$  是必然成立的, 因为对满足 $p < x$ 和 $q < y$ 的有理数 $p, q$ , $p + q$ 满足 $p + q < x + y$ 而且 $p + q$ 也是有理数, 因此 $f(p) + f(q) = f(p + q)$ 也处在 $\{f(a) : a < x + y \and a \in Q\}$. 这等价于说只要是处在各以 $g(x)$, $g(y)$ 为上确界的集合中的数加起来, 一定比 $g(x + y)$ 小, 即得结论. 

- 再证明不等号反向也成立: 对任意给定的实数 $x,y$, 观察任意 $a < x + y$ 的行为, 由有序域的性质, 我们可以找到有理数 $p$ 使得 $a - y < p < x$, 同理, 可以找到有理数 $q$ 使得 $a - p < q < y$. 这说明对任意的有理数 $a < x + y$, 都有 $g(x)+g(y) > f(p) + f(q) > f(a)$, 从而 $g(x) + g(y)$ 是 $\{f(a) : a\in Q \and a < x+y\}$ 的上界, 这说明 $g(x) + g(y)$ 大于等于该集合的最小上界 $g(x + y)$ . 


在乘法同构的部分, 我们对正实数运用和加法同构类同的证明步骤, 而后通过取相反数的方法推至全体实数. 

- 对正实数 $x, y$ 必有 $g(x \cdot y) \ge g(x) \cdot g(y)$ : 这与加法的道理是完全一样的. 

- 对正实数 $x, y$ 和有理数 $a$ 使得 $a < x \cdot y$, 必能找到正有理数 $p$ 使得 $a < p \cdot y < x \cdot y$, 同理再找正有理数 $q$ 使得 $a/p < q < y$, 由 $g$ 单调性可知 $p < x$ 而 $q < y$. 和证明加法同构时的道理相同,  $g(x) \cdot g(y)$ 大于等于 $\{f(a) : a\in Q\and a < x\cdot y\}$ 的最小上界 $g(x \cdot y)$ 

- 由于加法同构必保持加法逆元, 当 $x$ 为负数时, 有$g(x \cdot y) = -g(-(x \cdot y)) = -g((-x) \cdot y)$. 当 $x$ 和 $y$ 都为负数时, 有 $g(x \cdot y) = g((-x) \cdot (-y))$

形式证明: 

$$
\PropEndl{
    & \forall {\rm real}(R_1) \and {\rm real}(R_2):\\
    & \# {\rm rational}(Q_1) \and {\rm rational}(Q_2):\\
}{\;\;}{
    & \CondBegin\\
    & Q_1 \OrdFieldSub R_1\\
    & Q_2 \OrdFieldSub R_2\\
    & \CondEnd\\
    & \PropEndl{
        \# f: \\
    }{\;\;}{
        & \CondBegin\\
        & f\text{<inj>}\\
        & f: Q_1\OrdFieldTo Q_2\\
        & \CondEnd\\
        % 定义完备版本的函数f %
        & g :: \Prop{(\and)}{\;\;}{
            & g: R_1[\S] \to R_2[\S]\\
            & g(x) = \sup_{@R_2}\bigg\{f(q) : q \in Q_1[\S] \and q \overset{@ R_1}< x\bigg\}\\
        }\\\\
        % 证明保持有序 %
        & \PropEndl{
            & \forall x, y\in R_1[\S]:
        }{\;\;}{
            & \CondBegin\\
            & x \overset{@ R_1}< y\\
            & \CondEnd\\
            & \PropEndl{
                & \# p,q\in Q_1[\S]:
            }{\;\;}{
                & \CondBegin\\
                & x \overset{@ R_1}< p \overset{@ R_1}< q \overset{@ R_1}< y\\
                & \CondEnd\\
                & g(x) \overset{@ R_2}\le f(p) \overset{@ R_2}< f(q) \overset{@ R_2}\le g(y)\\ 
            }
        }\\\\
        & g\text{<inj>}\\
        \\
        & \forall q\in Q_1[\S]: g(q) = f(q)\\
        \\
        % 证明保持加法 %
        & \PropEndl{
            & \forall x, y\in R_1[\S]:\\
        }{\;\;}{
            & \CondEnd\\
            & \PropEndl{
                & \forall p, q \in Q_1[\S]: 
            }{\;\;}{
                & \CondBegin\\
                & f(p) \overset{@R_2}< g(x) \and f(q) \overset{@R_2}< g(y)\\
                & \CondEnd\\
                & p \overset{@R_1}< x \and q \overset{@R_1}< y\\
                & f(p) \overset{@R_2}+ f(q) 
                    = f(p \overset{@R_1}+ q) 
                    \overset{@R_2}< g(x \overset{@R_1}+ y)
            }\\
            & \forall p, q\in Q_2[\S]: 
                p \overset{@R_2}< g(x) \and q \overset{@R_2}< g(y) \Rarrow 
                p \overset{@R_2}+ q \overset{@R_2}< g(x \overset{@R_1}+ y)\\
            & g(x) \overset{@R_2}+ g(y) \le g(x \overset{@R_1}+ y)\\\\
            & \PropEndl{
                & \forall a \in Q_1[\S]:
            }{\;\;}{
                & \CondBegin\\
                & a \overset{@R_1}< x \overset{@R_1}+ y\\
                & \CondEnd\\
                & \PropEndl{\# p, q \in Q_1[\S] :}{\;\;}{
                    & \CondBegin\\
                    & a \overset{@R_1}< p \overset{@R_1}+ q 
                        \overset{@R_1}< p \overset{@R_1}+ x 
                        \overset{@R_1}< x \overset{@R_1}+ y\\
                    & \CondEnd\\
                    & g(x) \overset{@R_2}+ g(y) 
                    \overset{@R_2}> f(p) \overset{@R_2}+ f(q) 
                    \overset{@R_2}> f(a) \\
                }
            }\\
            & g(x) \overset{@R_2}+ g(y) \overset{@R_2}\ge g(x \overset{@R_1}+ y)\\\\
        }\\\\
        % 证明保持乘法 %
        & \PropEndl{
            & \forall x, y\in R_1[\S]:\\
        }{\;\;}{
            & \CondBegin\\
            & x , y \overset{@R_1}> R_1[0]\\
            & \CondEnd\\
            & \PropEndl{
                & \forall p, q \in Q_1[\S]: 
            }{\;\;}{
                & \CondBegin\\
                & f(p) \overset{@R_2}< g(x) \and f(q) \overset{@R_2}< g(y)\\
                & \CondEnd\\
                & p \overset{@R_1}< x \and q \overset{@R_1}< y\\
                & f(p) \overset{@R_2}\cdot f(q) 
                    = f(p \overset{@R_1}\cdot q) 
                    \overset{@R_2}< g(x \overset{@R_1}\cdot y)
            }\\
            & \forall p, q\in Q_2[\S]: 
                p \overset{@R_2}< g(x) \and q \overset{@R_2}< g(y) \Rarrow 
                p \overset{@R_2}\cdot q < g(x \overset{@R_1}\cdot y)\\
            & g(x) \overset{@R_2}\cdot g(y) \overset{@R_2}\le g(x \overset{@R_1}\cdot y)\\\\
            & \PropEndl{
                & \forall a \in Q_1[\S]:
            }{\;\;}{
                & \CondBegin\\
                & a \overset{@R_1}< x \overset{@R_1}\cdot y\\
                & \CondEnd\\
                & \PropEndl{\# p, q \in Q_1[\S] :}{\;\;}{
                    & \CondBegin\\
                    & a \overset{@R_1}< p \overset{@R_1}\cdot q 
                        \overset{@R_1}< p \overset{@R_1}\cdot x 
                        \overset{@R_1}< x \overset{@R_1}\cdot y\\
                    & \CondEnd\\
                    & g(x) \overset{@R_2}\cdot g(y) 
                    \overset{@R_2}> f(p) \overset{@R_2}\cdot f(q) 
                    \overset{@R_2}> f(a) \\
                }
            }\\
            & g(x) \overset{@R_2}\cdot g(y) \overset{@R_2}\ge g(x \overset{@R_1}\cdot y)\\
        }
    }
}
$$

## 实数集的构造

我们知道很多有理数的集在有理数当中没有上界, 经典的例子如: 

(下式中 $A$ 是某一有理数集的子集, 我们使用这个有理数集上的运算和数字字符来描述 $A$ 这个集合)

$$
A = \bigg\{ a : \big(a^{\cdot 2} \le 2\big) \and \big(a > 0\big) \bigg\}
$$

观察到若有理数 $q$ 是 $A$ 的上界, 那么: 

- $q$ 肯定比 $0$ 大

- $q^2$ 必然不小于 $2$ , 否则总是有 $A$ 中的数 $a$ 使得 $q^2 < a^2 < 2$ 

- 对 $q^2 > 2$ , 同理总是有 $p$ 使得 $q^2 > p^2 > 2$

- 没有有理数 $q$ 使得 $q^2 = 2$ , 若 $q^2 = 2$, 则 $q$ 的互素表示中, 分子必然是偶数, 且分子是偶数推出分母是偶数, 从而与互素矛盾. 

由是自然引出将实数集构造为有理数集的确界的想法, 形式化如下: 

$$
\begin{matrix}
\text{Real-Completion}(Q) :: \Prop{(\and)}{\;\;}{
    \\
    & R := \text{Real-Completion}(Q)\\
    \\    
    & \text{field}(R)\\
    \\
    & R[\S] = \left\{
        A \in \Pow(Q[\S]) : 
            \Prop{(\and)}{\;\;}{
            & A \ne Q[\S]\and A \ne \varnothing\\ 
            & \forall a\in A: 
            \Prop{(\and)}{\;\;}{
                & \forall b\in Q[\S] : b \overset{@Q}< a \Rarrow A\\
                & \exist b \in A: a \overset{@Q}< b\\
            }\\
            }
    \right\}\\
    \\
    & R[0] = \bigg\{q \in Q[\S] :  q \overset{@Q}< Q[0]\bigg\}\\
    & R[1] = \bigg\{q \in Q[\S] :  q \overset{@Q}< Q[1]\bigg\}\\
    \\
    & \forall A, B \in R[\S]: 
        \bigg(A \overset{@R}\le B\bigg) 
        \LRarrow 
        \bigg(A \sube B\bigg)\\
    \\
    & A \overset{@R}+ B
        = \bigg\{a \overset{@Q}+ b: (a, b) \in A\times B \bigg\}\\
    & A\overset{@R}-B
        = \bigg\{c \in R[\S] : \forall b\in  B:\exist a\in A: c < a \overset{@Q}- b\bigg\}\\
    \\
    & \PropEndl{
        & \forall A, B\in R[\S]:
    }{\;\;}{
        & \CondBegin\\
        & A, B \overset{@R}\ge R[0]\\
        & \CondEnd\\
        & A \overset{@R}\cdot B 
            = \bigg\{
                q \in Q[\S]: 
                \exist (a, b) \in A\times B: 
                \Big(a,b\overset{@Q}> 0 \Big)
                \and 
                \Big(q < a \overset{@Q}\cdot b\Big) 
            \bigg\}
    }\\
    \\
}\\
:::\text{rational}(Q)
\end{matrix}
$$

RMK: 另一种完备化方法是通过取极限相同的Cauchy列等价类得到的, 在分析板块中详细讨论. 

## 有理数近似定理

在给出了实数域的定义和实数集的构造后, 一个引人入胜的问题是有理数能多大程度上近似实数. 

对于这个问题, 大数学家Dirichlet通过下述定理说明: 当真分数至多取得分母 $q$ 的限制下, 能以 $q^{\cdot-2}$ 的精度近似实数. 

$$
\PropEndl{
    & \forall \text{real}(R):\\
    & \forall \text{rational}(Q) \and Q \FieldSub R:\\
    & \forall \text{integer}(Z) \and Z \RingSub Q:\\
}{\;\;}{
    & \CondEnd\\
    \\
    & (\cdot, |\cdot|, /) := (R[\cdot], R[|\cdot|], R[/])\\
    & (\le, <, 0, 1):= (R[\le], R[<], R[0], R[1])\\
    \\
    & \PropEndl{
        & \forall r\in R[\S]:\\ 
        & \forall n\in Z[\S] \and n > 0:\\
    }{\;\;}{
        \\
        & \exist p,q\in Z[\S]: 0 < q \le n \and |q \cdot r - p| < 1/n
        & \cdots (\ast)\\
        \\
    }\\
    \\
}
$$

文字证明: 这个定理的证明非常非常初等, 但是很难想到. 

基本的想法是将一些误差的集合收集起来进行比较, 并取出最小的那个. 

$$
T:=\bigg\{t\cdot x - \lfloor t\cdot x\rfloor: t \in Z[\S] \and 0 \le t \le n\bigg\}
$$

Dirichlet的高明之处在于发现了这个误差的集合中, 必然有两项的差会小于我们所要求的精确程度 $1/n$ . 否则, 误差之间的间隙累加起来就会大于等于 $1$ , 这是荒谬的, 因为我们收集到的全部的误差都在 $0$ 和 $1$ 之间, 并且严格小于 $1$ . 

$$
\bigg(\sup T - \inf T\bigg)\ge n \cdot 1/n = 1
$$

而将绝对差小于 $1/n$ 的这两项中的乘数部分和整数部分分别取出来, 就得到了满足我们要求的一种近似方法. 

$$
\bigg|(t - s)\cdot x - (\lfloor t\cdot x\rfloor - \lfloor s\cdot x\rfloor)\bigg| < n
$$

形式证明: 

$$
\PropEndl{
    & \forall \text{real}(R):\\
    & \forall \text{rational}(Q) \and Q \FieldSub R:\\
    & \forall \text{integer}(Z) \and Z \RingSub Q:\\
}{\;\;}{
    & \CondEnd\\
    \\
    & (\cdot, |\cdot|, /) := (R[\cdot], R[|\cdot|], R[/])\\
    & (\le, <, 0, 1):= (R[\le], R[<], R[0], R[1])\\
    \\
    & (\sup, \inf, \lfloor\cdot\rfloor) := (R[\sup], R[\inf], R[\lfloor\cdot\rfloor])\\
    \\
    & \PropEndl{
        & \forall r\in R[\S]:\\
        & \forall n\in Z[\S] \and n > 0:\\
    }{\;\;}{
        & \CondEnd\\
        & T = \bigg\{t\cdot x - \lfloor t\cdot x\rfloor: t \in Z[\S] \and 0 \le t \le n\bigg\}\\
        \\
        & \bigg(\sup T < 1 \bigg)\and \bigg(\inf T \ge 0\bigg)\\
        & \PropEndl{
        }{\;\;}{
            & \CondBegin\\
            & \PropEndl{
                & \forall s, t \in Z[\S] :\\
            }{\;\;}{
                & \CondBegin\\ 
                & 0 \le s<t \le n\\
                & \CondEnd\\
                & \bigg|
                    (t\cdot x - \lfloor t\cdot x\rfloor) 
                    - 
                    (s\cdot x - \lfloor s\cdot x\rfloor)\bigg| \ge 1/n
            }\\
            & \CondEnd\\
            & \bigg(\sup T - \inf T \ge 1\bigg)\\
        }\\
        \\
        & \PropEndl{
            & \# s,t \in Z[\S]:\\
        }{\;\;}{
            & \CondBegin\\
            & 0 \le s < t \le n \\
            & \bigg|\,
                (t\cdot x - \lfloor t\cdot x\rfloor)
                -
                (s\cdot x - \lfloor s\cdot x\rfloor)
            \,\bigg| < 1/n
            \\
            & \CondEnd\\
            & \big(q, p\big) := \bigg(
                t - s, 
                \lfloor t\cdot x\rfloor - \lfloor s\cdot x\rfloor
            \bigg)\\\\
            & 0\le q \le n\\\\
            & \Big|q \cdot r - p\Big| < 1/n & \cdots (\ast)\\
        }\\
    }\\\\
}
$$

## 标准实数集

$$
\R^\vee := \text{Real-Completion}(\Q^\vee)
$$

